# Android-Pentest-CheatSheet

# Device Rooting
https://github.com/newbit1/rootAVD




# Network Traffic Analysis
<i>HINT: You will need ProxyDroid installed on a physical device or an emulator (based on an ARM system image) using the –http-proxy command line option.</i>
To be able to inspect network traffic deriving from the Uber application, we recommend using a rooted device with ProxyDroid installed or launching an emulator (based on an ARM system image) using the –http-proxy command line option.

## adb (Android Debug Bridge)

List Devices/Emulators
```
adb devices
```

Installing APK file
```
adb install filename.apk
```

## SSL Vulnerabilities

HostNameVerifier is implemented inside the application as follows, and will turn off any kind of hostname verification when using SSL connections.
```
 SSLSocketFactory sf = new CustomSSLSocketFactory(trustStore);
 sf.setHostnameVerifier(SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);
```

Accepting Any Certificate
```
public void onReceivedSslError(WebView paramWebView, SslErrorHandler paramSslErrorHandler, SslError paramSslError)
{
  AuthorizationRequest.OAuthDialog.this.setLiveSdkProvProgressStatus(false);
  paramSslErrorHandler.proceed();
}
```
The custom SSL error handler above ignores any certificate validation error. Specifically, the handler will call proceed() and a connection will always be established regardless of any certificate error occurring. This leads to the application accepting any certificate.


## Certificate Pinning
through **.smali** files patching

https://github.com/moxie0/AndroidPinning

https://github.com/newbit1/rootAVD

https://github.com/ikust/hello-pinnedcerts

NOTE: If you intend to install the rebuilt APK in an emulator other than the one of Android
Studio or in a physical device, do not forget to sign your application.

For more information on signing the rebuilt APK please refer to
https://developer.android.com/studio/publish/app-signing.html.


